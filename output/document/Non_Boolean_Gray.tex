%
\begin{isabellebody}%
\setisabellecontext{Non{\isacharunderscore}{\kern0pt}Boolean{\isacharunderscore}{\kern0pt}Gray}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{A non-Boolean Gray code%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Non{\isacharunderscore}{\kern0pt}Boolean{\isacharunderscore}{\kern0pt}Gray\isanewline
\ \ \isakeyword{imports}\ Code{\isacharunderscore}{\kern0pt}Word{\isacharunderscore}{\kern0pt}Dist\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
The function presented below transforms a code word to gray code
  and the corresponding decode function is exactly its inverse.
The idea is to shift down a digit by the prefix sum of grays.
A crucial property is the behavior of this prefix sum, stated below.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{fun}\isamarkupfalse%
\ to{\isacharunderscore}{\kern0pt}gray\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}base\ {\isasymRightarrow}\ word\ {\isasymRightarrow}\ word{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}gray\ {\isacharunderscore}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ g{\isacharequal}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ v\ in\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list\ g\ mod\ b{\isacharparenright}{\kern0pt}\ a{\isacharhash}{\kern0pt}g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ decode\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}base\ {\isasymRightarrow}\ word\ {\isasymRightarrow}\ word{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}decode\ {\isacharunderscore}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}decode\ b\ {\isacharparenleft}{\kern0pt}g{\isacharhash}{\kern0pt}c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g{\isacharplus}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list\ c\ mod\ b{\isacharparenright}{\kern0pt}\ mod\ b{\isacharhash}{\kern0pt}decode\ b\ c{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{The Correctness Proof%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The proof of all properties that are necessary for a gray code
  is presented below. Also, some auxiliary lemmas are required:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}gray{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}gray{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ valid\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}valid\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The sum of grays is congruent to the value (mod $b$):%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ prefix{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b\ {\isacharequal}{\kern0pt}\ val\ b\ w\ mod\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b\ {\isacharequal}{\kern0pt}\ val\ b\ w\ mod\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}s\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}val\ b\ w\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}v\ a\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ mod\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}v\ a\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}s\ mod\ b{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}v\ a\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ IH\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ Cons\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ decode{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ decode\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The following theorem states that the transformation to gray
  is an encoding of the valid code words:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}encoding{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isachardot}{\kern0pt}\ valid\ b\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}inverseI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ word\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}w{\isachardot}{\kern0pt}\ valid\ b\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ w{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}decode\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ decode{\isacharunderscore}{\kern0pt}correct\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mod{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ k\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ mod\ b{\isacharcircum}{\kern0pt}k\ mod\ b\ {\isacharequal}{\kern0pt}\ a\ mod\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}cancel{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}dist{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ w{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}base\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ Cons{\isachardot}{\kern0pt}IH\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharless}{\kern0pt}\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Nil\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}distr\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}Suc\ {\isacartoucheopen}a\ {\isacharless}{\kern0pt}\ b{\isacartoucheclose}\ {\isacartoucheopen}{\isadigit{2}}\ {\isasymle}\ b{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a{\isacharprime}{\kern0pt}\ ds{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isasymle}length{\isacharparenleft}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}a\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}if\ Suc\ a{\isasymnoteq}b\ then\ w\ else\ inc\ b\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}g\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}h\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}val\ b\ w\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}val\ b\ {\isacharquery}{\kern0pt}a\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ {\isacharquery}{\kern0pt}a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ valid{\isacharunderscore}{\kern0pt}inc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}g\ a{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ {\isacharparenleft}{\kern0pt}Suc\ a\ mod\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Encoding{\isacharunderscore}{\kern0pt}Nat{\isachardot}{\kern0pt}inc{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ dist{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ to{\isacharunderscore}{\kern0pt}gray{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}g\ a{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharless}{\kern0pt}\ b{\isacartoucheclose}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}Suc\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}valid\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ {\isacharquery}{\kern0pt}g{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharless}{\kern0pt}\ b{\isacartoucheclose}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}distr{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ prefix{\isacharunderscore}{\kern0pt}sum\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ {\isacharquery}{\kern0pt}a{\isacartoucheclose}\ prefix{\isacharunderscore}{\kern0pt}sum\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}val\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}val\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharcircum}{\kern0pt}length{\isacharparenleft}{\kern0pt}w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ valid{\isacharunderscore}{\kern0pt}inc\ val{\isacharunderscore}{\kern0pt}inc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}val\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isadigit{1}}{\isasymle}length{\isacharparenleft}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ mod{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}aux\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}val\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharquery}{\kern0pt}v\ mod\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}Suc\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharquery}{\kern0pt}v\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharquery}{\kern0pt}v\ mod\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ mod{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ IH\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}simps\ {\isacharequal}{\kern0pt}\ decode{\isacharunderscore}{\kern0pt}correct\ dist{\isacharunderscore}{\kern0pt}posd\ inc{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq\ length{\isacharunderscore}{\kern0pt}gray\ length{\isacharunderscore}{\kern0pt}inc\ valid{\isacharunderscore}{\kern0pt}gray\ valid{\isacharunderscore}{\kern0pt}inc\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ gray{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The central theorem states, that it requires exactly one increment operation
  of one place within the word to go from the gray encoding of a number to
  the gray encoding of its successor. Note also, that we obtain a cyclic
  gray code in all cases, because the increment operation wraps the last
  number around to zero.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}valid\ b\ w{\isacharsemicolon}{\kern0pt}\ w\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ w{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}w\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}empty\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ a\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ gray{\isacharunderscore}{\kern0pt}dist\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ hamming{\isacharunderscore}{\kern0pt}simps\ {\isacharequal}{\kern0pt}\ gray{\isacharunderscore}{\kern0pt}dist\ hamming{\isacharunderscore}{\kern0pt}dist\ le{\isacharunderscore}{\kern0pt}trans\ length{\isacharunderscore}{\kern0pt}gray\ length{\isacharunderscore}{\kern0pt}inc\ valid{\isacharunderscore}{\kern0pt}gray\ valid{\isacharunderscore}{\kern0pt}inc\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}hamming{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ hamming\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ hamming{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Non_Boolean_Gray.tex%:%
%:%11=6%:%
%:%27=8%:%
%:%28=8%:%
%:%29=9%:%
%:%30=10%:%
%:%39=13%:%
%:%40=14%:%
%:%41=15%:%
%:%42=16%:%
%:%44=19%:%
%:%45=19%:%
%:%46=20%:%
%:%47=21%:%
%:%48=22%:%
%:%49=23%:%
%:%50=23%:%
%:%51=24%:%
%:%52=25%:%
%:%59=28%:%
%:%71=31%:%
%:%72=32%:%
%:%74=35%:%
%:%75=35%:%
%:%76=36%:%
%:%79=37%:%
%:%83=37%:%
%:%84=37%:%
%:%85=38%:%
%:%86=38%:%
%:%91=38%:%
%:%94=39%:%
%:%95=40%:%
%:%96=40%:%
%:%97=41%:%
%:%100=42%:%
%:%104=42%:%
%:%105=42%:%
%:%106=43%:%
%:%107=43%:%
%:%116=46%:%
%:%118=49%:%
%:%119=49%:%
%:%120=50%:%
%:%127=51%:%
%:%128=51%:%
%:%129=52%:%
%:%130=52%:%
%:%131=52%:%
%:%132=52%:%
%:%133=53%:%
%:%134=53%:%
%:%135=54%:%
%:%136=54%:%
%:%137=55%:%
%:%138=55%:%
%:%139=55%:%
%:%140=56%:%
%:%141=56%:%
%:%142=57%:%
%:%143=57%:%
%:%144=58%:%
%:%145=58%:%
%:%146=58%:%
%:%147=59%:%
%:%148=59%:%
%:%149=59%:%
%:%150=59%:%
%:%151=59%:%
%:%152=60%:%
%:%153=60%:%
%:%154=60%:%
%:%155=60%:%
%:%156=60%:%
%:%157=61%:%
%:%158=61%:%
%:%159=61%:%
%:%160=61%:%
%:%161=61%:%
%:%162=62%:%
%:%168=62%:%
%:%171=63%:%
%:%172=64%:%
%:%173=64%:%
%:%174=65%:%
%:%177=66%:%
%:%181=66%:%
%:%182=66%:%
%:%183=67%:%
%:%184=67%:%
%:%193=70%:%
%:%194=71%:%
%:%196=74%:%
%:%197=74%:%
%:%198=75%:%
%:%205=76%:%
%:%206=76%:%
%:%207=77%:%
%:%208=77%:%
%:%209=78%:%
%:%210=78%:%
%:%211=79%:%
%:%212=79%:%
%:%213=79%:%
%:%214=80%:%
%:%215=80%:%
%:%216=80%:%
%:%217=80%:%
%:%218=81%:%
%:%224=81%:%
%:%227=82%:%
%:%228=83%:%
%:%229=83%:%
%:%232=84%:%
%:%236=84%:%
%:%237=84%:%
%:%242=84%:%
%:%245=85%:%
%:%246=86%:%
%:%247=86%:%
%:%248=87%:%
%:%255=88%:%
%:%256=88%:%
%:%257=89%:%
%:%258=89%:%
%:%259=89%:%
%:%260=89%:%
%:%261=90%:%
%:%262=90%:%
%:%263=91%:%
%:%264=91%:%
%:%265=92%:%
%:%266=92%:%
%:%267=92%:%
%:%268=92%:%
%:%269=93%:%
%:%270=93%:%
%:%271=93%:%
%:%272=93%:%
%:%273=94%:%
%:%274=94%:%
%:%275=94%:%
%:%276=95%:%
%:%277=95%:%
%:%278=96%:%
%:%279=96%:%
%:%280=96%:%
%:%281=97%:%
%:%282=97%:%
%:%283=97%:%
%:%284=97%:%
%:%285=98%:%
%:%286=98%:%
%:%287=99%:%
%:%288=99%:%
%:%289=100%:%
%:%290=100%:%
%:%291=100%:%
%:%292=101%:%
%:%293=101%:%
%:%294=101%:%
%:%295=102%:%
%:%296=102%:%
%:%297=103%:%
%:%298=103%:%
%:%299=104%:%
%:%300=104%:%
%:%301=104%:%
%:%302=105%:%
%:%303=105%:%
%:%304=106%:%
%:%305=106%:%
%:%306=107%:%
%:%307=107%:%
%:%308=108%:%
%:%309=108%:%
%:%310=109%:%
%:%311=109%:%
%:%312=110%:%
%:%313=110%:%
%:%314=111%:%
%:%315=111%:%
%:%316=111%:%
%:%317=111%:%
%:%318=112%:%
%:%319=112%:%
%:%320=113%:%
%:%321=114%:%
%:%322=114%:%
%:%323=115%:%
%:%324=115%:%
%:%325=115%:%
%:%326=116%:%
%:%327=117%:%
%:%328=117%:%
%:%329=117%:%
%:%330=118%:%
%:%331=118%:%
%:%332=118%:%
%:%333=119%:%
%:%334=120%:%
%:%335=120%:%
%:%336=120%:%
%:%337=121%:%
%:%338=121%:%
%:%339=121%:%
%:%340=122%:%
%:%341=123%:%
%:%342=123%:%
%:%343=123%:%
%:%344=124%:%
%:%345=124%:%
%:%346=124%:%
%:%347=125%:%
%:%348=126%:%
%:%349=126%:%
%:%350=126%:%
%:%351=127%:%
%:%352=127%:%
%:%353=127%:%
%:%356=130%:%
%:%357=131%:%
%:%358=131%:%
%:%359=131%:%
%:%360=132%:%
%:%361=132%:%
%:%362=132%:%
%:%365=135%:%
%:%366=136%:%
%:%367=136%:%
%:%368=136%:%
%:%369=137%:%
%:%370=137%:%
%:%371=137%:%
%:%374=140%:%
%:%375=141%:%
%:%376=141%:%
%:%377=141%:%
%:%378=142%:%
%:%379=142%:%
%:%380=142%:%
%:%383=145%:%
%:%384=146%:%
%:%385=146%:%
%:%386=146%:%
%:%387=147%:%
%:%388=147%:%
%:%389=147%:%
%:%392=150%:%
%:%393=151%:%
%:%394=151%:%
%:%395=151%:%
%:%396=152%:%
%:%397=152%:%
%:%398=152%:%
%:%400=154%:%
%:%401=155%:%
%:%402=155%:%
%:%403=155%:%
%:%404=156%:%
%:%405=156%:%
%:%406=156%:%
%:%407=156%:%
%:%408=156%:%
%:%409=157%:%
%:%410=157%:%
%:%411=157%:%
%:%412=157%:%
%:%413=158%:%
%:%414=158%:%
%:%415=159%:%
%:%421=159%:%
%:%424=160%:%
%:%425=161%:%
%:%426=161%:%
%:%427=162%:%
%:%428=163%:%
%:%429=163%:%
%:%430=164%:%
%:%433=165%:%
%:%437=165%:%
%:%438=165%:%
%:%447=168%:%
%:%448=169%:%
%:%449=170%:%
%:%450=171%:%
%:%451=172%:%
%:%453=175%:%
%:%454=175%:%
%:%455=176%:%
%:%462=177%:%
%:%463=177%:%
%:%464=178%:%
%:%465=178%:%
%:%466=179%:%
%:%467=179%:%
%:%468=180%:%
%:%469=180%:%
%:%470=180%:%
%:%471=180%:%
%:%472=181%:%
%:%473=181%:%
%:%474=181%:%
%:%475=181%:%
%:%476=182%:%
%:%477=182%:%
%:%478=182%:%
%:%479=182%:%
%:%480=183%:%
%:%486=183%:%
%:%489=184%:%
%:%490=185%:%
%:%491=185%:%
%:%492=186%:%
%:%493=187%:%
%:%494=187%:%
%:%497=188%:%
%:%501=188%:%
%:%502=188%:%
%:%507=188%:%
%:%512=189%:%
%:%517=190%:%
