%
\begin{isabellebody}%
\setisabellecontext{Non{\isacharunderscore}{\kern0pt}Boolean{\isacharunderscore}{\kern0pt}Gray}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{A non-Boolean Gray code%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Non{\isacharunderscore}{\kern0pt}Boolean{\isacharunderscore}{\kern0pt}Gray\isanewline
\ \ \isakeyword{imports}\ Code{\isacharunderscore}{\kern0pt}Word{\isacharunderscore}{\kern0pt}Dist\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
The function presented below transforms a code word into a gray code
  and the corresponding decode function is exactly its inverse.
The key idea is to shift down a digit by the prefix sum of gray digits.
A crucial property is the behavior of this prefix sum under increment
  as stated below.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{fun}\isamarkupfalse%
\ to{\isacharunderscore}{\kern0pt}gray\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}base\ {\isasymRightarrow}\ word\ {\isasymRightarrow}\ word{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}gray\ {\isacharunderscore}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}v{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ g{\isacharequal}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ v\ in\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list\ g\ mod\ b{\isacharparenright}{\kern0pt}\ a{\isacharhash}{\kern0pt}g{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ decode\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}base\ {\isasymRightarrow}\ word\ {\isasymRightarrow}\ word{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}decode\ {\isacharunderscore}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}decode\ b\ {\isacharparenleft}{\kern0pt}g{\isacharhash}{\kern0pt}c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}g{\isacharplus}{\kern0pt}sum{\isacharunderscore}{\kern0pt}list\ c\ mod\ b{\isacharparenright}{\kern0pt}\ mod\ b{\isacharhash}{\kern0pt}decode\ b\ c{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{The Correctness Proof%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The proof of all properties that are necessary for a gray code
  is presented below. Also, some auxiliary lemmas are required:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}gray{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}gray{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ valid\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}valid\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The sum of grays is congruent to the value (mod $b$):%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ prefix{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b\ {\isacharequal}{\kern0pt}\ val\ b\ w\ mod\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b\ {\isacharequal}{\kern0pt}\ val\ b\ w\ mod\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}s\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}val\ b\ w\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}v\ a\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}s{\isacharparenright}{\kern0pt}\ mod\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}v\ a\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}s\ mod\ b{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}v\ a\ {\isacharplus}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ IH\ \isacommand{by}\isamarkupfalse%
\ argo\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}{\isadigit{1}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{using}\isamarkupfalse%
\ Cons\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ decode{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ decode\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}elim{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The following theorem states that the transformation to gray
  is an encoding of the valid code words:%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}encoding{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}w{\isachardot}{\kern0pt}\ valid\ b\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}inverseI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ w\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ word\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}w{\isachardot}{\kern0pt}\ valid\ b\ w{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ w{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}decode\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ decode{\isacharunderscore}{\kern0pt}correct\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mod{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ k\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isacharparenright}{\kern0pt}\ mod\ b{\isacharcircum}{\kern0pt}k\ mod\ b\ {\isacharequal}{\kern0pt}\ a\ mod\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ mod{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}cancel{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}dist{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Nil\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ w{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{2}}\ {\isasymle}\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ valid{\isacharunderscore}{\kern0pt}base\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ Cons{\isachardot}{\kern0pt}IH\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharless}{\kern0pt}\ b{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ Cons{\isachardot}{\kern0pt}prems\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ w{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Nil\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}distr\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}Suc\ {\isacartoucheopen}a\ {\isacharless}{\kern0pt}\ b{\isacartoucheclose}\ {\isacartoucheopen}{\isadigit{2}}\ {\isasymle}\ b{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ a{\isacharprime}{\kern0pt}\ ds{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{1}}{\isasymle}length{\isacharparenleft}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}a\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}if\ Suc\ a{\isasymnoteq}b\ then\ w\ else\ inc\ b\ w{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}g\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}h\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}sum{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}v\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}val\ b\ w\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}u\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}val\ b\ {\isacharquery}{\kern0pt}a\ mod\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ {\isacharparenleft}{\kern0pt}a{\isacharhash}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ {\isacharquery}{\kern0pt}a{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ valid{\isacharunderscore}{\kern0pt}inc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}l\ {\isacharequal}{\kern0pt}\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}g\ a{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ {\isacharparenleft}{\kern0pt}Suc\ a\ mod\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Encoding{\isacharunderscore}{\kern0pt}Nat{\isachardot}{\kern0pt}inc{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ dist{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ to{\isacharunderscore}{\kern0pt}gray{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}g\ a{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharless}{\kern0pt}\ b{\isacartoucheclose}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}Suc\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}valid\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ {\isacharquery}{\kern0pt}g{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharless}{\kern0pt}\ b{\isacartoucheclose}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}distr{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}h\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ prefix{\isacharunderscore}{\kern0pt}sum\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharquery}{\kern0pt}u\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharquery}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ {\isacharquery}{\kern0pt}a{\isacartoucheclose}\ prefix{\isacharunderscore}{\kern0pt}sum\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}val\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}val\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharcircum}{\kern0pt}length{\isacharparenleft}{\kern0pt}w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ valid{\isacharunderscore}{\kern0pt}inc\ val{\isacharunderscore}{\kern0pt}inc\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ Suc\ {\isacharparenleft}{\kern0pt}dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}val\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharquery}{\kern0pt}v{\isacharparenright}{\kern0pt}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isadigit{1}}{\isasymle}length{\isacharparenleft}{\kern0pt}w{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ mod{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}aux\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}val\ b\ w{\isacharparenright}{\kern0pt}\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharquery}{\kern0pt}v\ mod\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}mod{\isacharunderscore}{\kern0pt}Suc\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ dist{\isadigit{1}}\ b\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharquery}{\kern0pt}v\ mod\ b{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharquery}{\kern0pt}v\ mod\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharplus}{\kern0pt}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ mod{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\ \isacommand{by}\isamarkupfalse%
\ presburger\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ if\ Suc\ a\ {\isasymnoteq}\ b\ then\ Suc\ {\isadigit{0}}\ mod\ b\isanewline
\ \ \ \ \ \ \ \ else\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ dist{\isadigit{1}}{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ IH\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}simps\ {\isacharequal}{\kern0pt}\ decode{\isacharunderscore}{\kern0pt}correct\ dist{\isacharunderscore}{\kern0pt}posd\ inc{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}eq\ length{\isacharunderscore}{\kern0pt}gray\ length{\isacharunderscore}{\kern0pt}inc\ valid{\isacharunderscore}{\kern0pt}gray\ valid{\isacharunderscore}{\kern0pt}inc\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}w\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ gray{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The central theorem states, that it requires exactly one increment operation
  of one place within the word to go from the gray encoding of a number to
  the gray encoding of its successor.
Note also, that we obtain a cyclic gray code in all cases,
  because the increment operation wraps the last
  number around to zero.
Only the pathological case of an empty word has to be excluded.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isasymlbrakk}valid\ b\ w{\isacharsemicolon}{\kern0pt}\ w\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isasymrbrakk}\ {\isasymLongrightarrow}\ dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}valid\ b\ w{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}w\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}empty\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ a\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}dist\ b\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isachargreater}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}valid\ b\ w{\isacartoucheclose}\ gray{\isacharunderscore}{\kern0pt}dist\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ hamming{\isacharunderscore}{\kern0pt}simps\ {\isacharequal}{\kern0pt}\ gray{\isacharunderscore}{\kern0pt}dist\ hamming{\isacharunderscore}{\kern0pt}dist\ le{\isacharunderscore}{\kern0pt}trans\ length{\isacharunderscore}{\kern0pt}gray\ length{\isacharunderscore}{\kern0pt}inc\ valid{\isacharunderscore}{\kern0pt}gray\ valid{\isacharunderscore}{\kern0pt}inc\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ gray{\isacharunderscore}{\kern0pt}hamming{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}valid\ b\ w\ {\isasymLongrightarrow}\ hamming\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ w{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}to{\isacharunderscore}{\kern0pt}gray\ b\ {\isacharparenleft}{\kern0pt}inc\ b\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ hamming{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=Non_Boolean_Gray.tex%:%
%:%11=6%:%
%:%27=8%:%
%:%28=8%:%
%:%29=9%:%
%:%30=10%:%
%:%39=13%:%
%:%40=14%:%
%:%41=15%:%
%:%42=16%:%
%:%43=17%:%
%:%45=20%:%
%:%46=20%:%
%:%47=21%:%
%:%48=22%:%
%:%49=23%:%
%:%50=24%:%
%:%51=24%:%
%:%52=25%:%
%:%53=26%:%
%:%60=29%:%
%:%72=32%:%
%:%73=33%:%
%:%75=36%:%
%:%76=36%:%
%:%77=37%:%
%:%80=38%:%
%:%84=38%:%
%:%85=38%:%
%:%86=39%:%
%:%87=39%:%
%:%92=39%:%
%:%95=40%:%
%:%96=41%:%
%:%97=41%:%
%:%98=42%:%
%:%101=43%:%
%:%105=43%:%
%:%106=43%:%
%:%107=44%:%
%:%108=44%:%
%:%117=47%:%
%:%119=50%:%
%:%120=50%:%
%:%121=51%:%
%:%128=52%:%
%:%129=52%:%
%:%130=53%:%
%:%131=53%:%
%:%132=53%:%
%:%133=53%:%
%:%134=54%:%
%:%135=54%:%
%:%136=55%:%
%:%137=55%:%
%:%138=56%:%
%:%139=56%:%
%:%140=56%:%
%:%141=57%:%
%:%142=57%:%
%:%143=58%:%
%:%144=58%:%
%:%145=59%:%
%:%146=59%:%
%:%147=59%:%
%:%148=60%:%
%:%149=60%:%
%:%150=60%:%
%:%151=60%:%
%:%152=60%:%
%:%153=61%:%
%:%154=61%:%
%:%155=61%:%
%:%156=61%:%
%:%157=61%:%
%:%158=62%:%
%:%159=62%:%
%:%160=62%:%
%:%161=62%:%
%:%162=62%:%
%:%163=63%:%
%:%169=63%:%
%:%172=64%:%
%:%173=65%:%
%:%174=65%:%
%:%175=66%:%
%:%178=67%:%
%:%182=67%:%
%:%183=67%:%
%:%184=68%:%
%:%185=68%:%
%:%194=71%:%
%:%195=72%:%
%:%197=75%:%
%:%198=75%:%
%:%199=76%:%
%:%206=77%:%
%:%207=77%:%
%:%208=78%:%
%:%209=78%:%
%:%210=79%:%
%:%211=79%:%
%:%212=80%:%
%:%213=80%:%
%:%214=80%:%
%:%215=81%:%
%:%216=81%:%
%:%217=81%:%
%:%218=81%:%
%:%219=82%:%
%:%225=82%:%
%:%228=83%:%
%:%229=84%:%
%:%230=84%:%
%:%233=85%:%
%:%237=85%:%
%:%238=85%:%
%:%243=85%:%
%:%246=86%:%
%:%247=87%:%
%:%248=87%:%
%:%249=88%:%
%:%256=89%:%
%:%257=89%:%
%:%258=90%:%
%:%259=90%:%
%:%260=90%:%
%:%261=90%:%
%:%262=91%:%
%:%263=91%:%
%:%264=92%:%
%:%265=92%:%
%:%266=93%:%
%:%267=93%:%
%:%268=93%:%
%:%269=93%:%
%:%270=94%:%
%:%271=94%:%
%:%272=94%:%
%:%273=94%:%
%:%274=95%:%
%:%275=95%:%
%:%276=95%:%
%:%277=96%:%
%:%278=96%:%
%:%279=97%:%
%:%280=97%:%
%:%281=97%:%
%:%282=98%:%
%:%283=98%:%
%:%284=98%:%
%:%285=98%:%
%:%286=99%:%
%:%287=99%:%
%:%288=100%:%
%:%289=100%:%
%:%290=101%:%
%:%291=101%:%
%:%292=101%:%
%:%293=102%:%
%:%294=102%:%
%:%295=102%:%
%:%296=103%:%
%:%297=103%:%
%:%298=104%:%
%:%299=104%:%
%:%300=105%:%
%:%301=105%:%
%:%302=105%:%
%:%303=106%:%
%:%304=106%:%
%:%305=107%:%
%:%306=107%:%
%:%307=108%:%
%:%308=108%:%
%:%309=109%:%
%:%310=109%:%
%:%311=110%:%
%:%312=110%:%
%:%313=111%:%
%:%314=111%:%
%:%315=112%:%
%:%316=112%:%
%:%317=112%:%
%:%318=112%:%
%:%319=113%:%
%:%320=113%:%
%:%321=114%:%
%:%322=115%:%
%:%323=115%:%
%:%324=116%:%
%:%325=116%:%
%:%326=116%:%
%:%327=117%:%
%:%328=118%:%
%:%329=118%:%
%:%330=118%:%
%:%331=119%:%
%:%332=119%:%
%:%333=119%:%
%:%334=120%:%
%:%335=121%:%
%:%336=121%:%
%:%337=121%:%
%:%338=122%:%
%:%339=122%:%
%:%340=122%:%
%:%341=123%:%
%:%342=124%:%
%:%343=124%:%
%:%344=124%:%
%:%345=125%:%
%:%346=125%:%
%:%347=125%:%
%:%348=126%:%
%:%349=127%:%
%:%350=127%:%
%:%351=127%:%
%:%352=128%:%
%:%353=128%:%
%:%354=128%:%
%:%357=131%:%
%:%358=132%:%
%:%359=132%:%
%:%360=132%:%
%:%361=133%:%
%:%362=133%:%
%:%363=133%:%
%:%366=136%:%
%:%367=137%:%
%:%368=137%:%
%:%369=137%:%
%:%370=138%:%
%:%371=138%:%
%:%372=138%:%
%:%375=141%:%
%:%376=142%:%
%:%377=142%:%
%:%378=142%:%
%:%379=143%:%
%:%380=143%:%
%:%381=143%:%
%:%384=146%:%
%:%385=147%:%
%:%386=147%:%
%:%387=147%:%
%:%388=148%:%
%:%389=148%:%
%:%390=148%:%
%:%393=151%:%
%:%394=152%:%
%:%395=152%:%
%:%396=152%:%
%:%397=153%:%
%:%398=153%:%
%:%399=153%:%
%:%401=155%:%
%:%402=156%:%
%:%403=156%:%
%:%404=156%:%
%:%405=157%:%
%:%406=157%:%
%:%407=157%:%
%:%408=157%:%
%:%409=157%:%
%:%410=158%:%
%:%411=158%:%
%:%412=158%:%
%:%413=158%:%
%:%414=159%:%
%:%415=159%:%
%:%416=160%:%
%:%422=160%:%
%:%425=161%:%
%:%426=162%:%
%:%427=162%:%
%:%428=163%:%
%:%429=164%:%
%:%430=164%:%
%:%431=165%:%
%:%434=166%:%
%:%438=166%:%
%:%439=166%:%
%:%448=169%:%
%:%449=170%:%
%:%450=171%:%
%:%451=172%:%
%:%452=173%:%
%:%453=174%:%
%:%454=175%:%
%:%456=178%:%
%:%457=178%:%
%:%458=179%:%
%:%465=180%:%
%:%466=180%:%
%:%467=181%:%
%:%468=181%:%
%:%469=182%:%
%:%470=182%:%
%:%471=183%:%
%:%472=183%:%
%:%473=183%:%
%:%474=183%:%
%:%475=184%:%
%:%476=184%:%
%:%477=184%:%
%:%478=184%:%
%:%479=185%:%
%:%480=185%:%
%:%481=185%:%
%:%482=185%:%
%:%483=186%:%
%:%489=186%:%
%:%492=187%:%
%:%493=188%:%
%:%494=188%:%
%:%495=189%:%
%:%496=190%:%
%:%497=190%:%
%:%500=191%:%
%:%504=191%:%
%:%505=191%:%
%:%510=191%:%
%:%515=192%:%
%:%520=193%:%
